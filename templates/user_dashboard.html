<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<div class="container mt-4">
<h3>User Dashboard</h3>

<form method="POST" action="/add/">
{% csrf_token %}
<input name="title" class="form-control">
<button class="btn btn-primary mt-2">Add</button>
</form>

<ul class="list-group mt-3">
{% for task in tasks %}
<li class="list-group-item d-flex justify-content-between">
{{ task.title }}
<div>
<a href="/toggle/{{task.id}}/">✔</a>
<a href="/delete/{{task.id}}/">❌</a>
</div>
</li>
{% endfor %}
</ul>

<canvas id="chart"></canvas>
</div>

<script>
new Chart(document.getElementById('chart'), {
type:'pie',
data:{labels:['Done','Pending'],datasets:[{data:[{{completed}},{{pending}}]}]}
});
</script>
